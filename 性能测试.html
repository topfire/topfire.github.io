<html>
<head>
    <meta charset="utf-8">
    <script language = "javascript" type="text/javascript"src="jquery/jquery-3.1.1.min.js"></script>
    <style>

    </style>
</head>
<body>
<img src="./pic2.png" />
<textarea></textarea>
<script>
    $(function(){
        var oldTime = new Date().getTime()

        $('img').css('position',"absolute")
        $('textarea').css({float:"right",width:"30%"})
        var intervalid = setInterval(function(){
            if(countTime()){
                for(var i=0;i<3;i++){
                    var temp = $('img').first().clone()
                    temp.appendTo($('body'))
                }
                $.each($('img'),function(){
                    $(this).animate({top:(Math.random()*500)+"px",left:(Math.random()*500)+"px"},200)
                })
            }else{
                $('textarea').text('性能降为80%，目前小球数量：'+ $('img').length)
                clearInterval(intervalid)
            }
        },200)


        function countTime(){
            var timestamp=new Date().getTime()
            var result = (timestamp-oldTime>240?false:true)
            oldTime = timestamp
            return result
        }

    })
</script>
</body>
</html>